<html><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script><script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ['Inter', 'sans-serif']
            }
          }
        }
      };
    </script>
    <script>window.FontAwesomeConfig = { autoReplaceSvg: 'nest'};</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    
    <style>
        ::-webkit-scrollbar { display: none;}
        body { font-family: 'Inter', sans-serif; }
    </style>
<link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;500;600;700;800;900&amp;display=swap"><style>
  .highlighted-section {
    outline: 2px solid #3F20FB;
    background-color: rgba(63, 32, 251, 0.1);
  }

  .edit-button {
    position: absolute;
    z-index: 1000;
  }

  ::-webkit-scrollbar {
    display: none;
  }

  html, body {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  </style></head>
<body class="bg-gray-50">

    <!-- Sidebar -->
    <div id="sidebar" class="fixed left-0 top-0 h-full w-64 bg-white shadow-lg z-40">
        <div class="p-6 border-b">
            <h1 class="text-xl font-bold text-gray-800">Admin Panel</h1>
        </div>
        <nav class="mt-6">
            <span class="flex items-center px-6 py-3 text-gray-600 hover:bg-gray-50 cursor-pointer">
                <i class="fa-solid fa-chart-line mr-3"></i>
                Dashboard
            </span>
            <span class="flex items-center px-6 py-3 text-gray-600 hover:bg-gray-50 cursor-pointer">
                <i class="fa-solid fa-box mr-3"></i>
                Manajemen Produk
            </span>
            <span class="flex items-center px-6 py-3 text-gray-600 hover:bg-gray-50 cursor-pointer">
                <i class="fa-solid fa-gavel mr-3"></i>
                Manajemen Lelang
            </span>
            <span class="flex items-center px-6 py-3 text-gray-600 hover:bg-gray-50 cursor-pointer">
                <i class="fa-solid fa-shopping-cart mr-3"></i>
                Manajemen Pesanan
            </span>
            <span class="flex items-center px-6 py-3 text-gray-600 hover:bg-gray-50 cursor-pointer">
                <i class="fa-solid fa-users mr-3"></i>
                Manajemen User
            </span>
            <span class="flex items-center px-6 py-3 text-blue-600 bg-blue-50 border-r-3 border-blue-600 cursor-pointer">
                <i class="fa-solid fa-comments mr-3"></i>
                Chat Customer
            </span>
            <span class="flex items-center px-6 py-3 text-gray-600 hover:bg-gray-50 cursor-pointer">
                <i class="fa-solid fa-bell mr-3"></i>
                Notifikasi
            </span>
            <span class="flex items-center px-6 py-3 text-gray-600 hover:bg-gray-50 cursor-pointer">
                <i class="fa-solid fa-cog mr-3"></i>
                Pengaturan
            </span>
        </nav>
    </div>

    <!-- Main Content -->
    <div id="main-content" class="ml-64 flex h-screen">
        
        <!-- Chat List Sidebar -->
        <div id="chat-list-sidebar" class="w-80 bg-white border-r flex flex-col">
            <!-- Chat Header -->
            <div id="chat-header" class="p-4 border-b bg-gray-50">
                <div class="flex items-center justify-between">
                    <h3 class="font-semibold text-gray-800">Customer Chat</h3>
                    <div class="flex items-center space-x-2">
                        <span class="bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full">5 Aktif</span>
                        <span class="bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full">3 Menunggu</span>
                    </div>
                </div>
                <div class="mt-3">
                    <input type="text" placeholder="Cari customer..." class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>
            </div>

            <!-- Chat List -->
            <div id="chat-list" class="flex-1 overflow-y-auto">
                
                <!-- Active Chat Item -->
                <div id="chat-item-1" class="p-4 border-b hover:bg-gray-50 cursor-pointer bg-blue-50 border-l-4 border-blue-500">
                    <div class="flex items-center space-x-3">
                        <div class="relative">
                            <img src="https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-1.jpg" alt="Customer" class="w-12 h-12 rounded-full">
                            <div class="absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white"></div>
                        </div>
                        <div class="flex-1 min-w-0">
                            <div class="flex items-center justify-between">
                                <h4 class="font-medium text-gray-800 truncate">Sari Indah</h4>
                                <span class="text-xs text-gray-500">2 min</span>
                            </div>
                            <p class="text-sm text-gray-600 truncate">Kapan produknya ready untuk dikirim?</p>
                            <div class="flex items-center justify-between mt-1">
                                <span class="text-xs text-green-600 font-medium">Online</span>
                                <span class="bg-blue-500 text-white text-xs px-2 py-1 rounded-full">2</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Pending Chat Item -->
                <div id="chat-item-2" class="p-4 border-b hover:bg-gray-50 cursor-pointer">
                    <div class="flex items-center space-x-3">
                        <div class="relative">
                            <img src="https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-3.jpg" alt="Customer" class="w-12 h-12 rounded-full">
                            <div class="absolute -bottom-1 -right-1 w-4 h-4 bg-red-500 rounded-full border-2 border-white"></div>
                        </div>
                        <div class="flex-1 min-w-0">
                            <div class="flex items-center justify-between">
                                <h4 class="font-medium text-gray-800 truncate">Budi Santoso</h4>
                                <span class="text-xs text-gray-500">15 min</span>
                            </div>
                            <p class="text-sm text-gray-600 truncate">Saya mau komplain produk yang rusak</p>
                            <div class="flex items-center justify-between mt-1">
                                <span class="text-xs text-red-600 font-medium">Menunggu</span>
                                <span class="bg-red-500 text-white text-xs px-2 py-1 rounded-full">5</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Offline Chat Item -->
                <div id="chat-item-3" class="p-4 border-b hover:bg-gray-50 cursor-pointer">
                    <div class="flex items-center space-x-3">
                        <div class="relative">
                            <img src="https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-5.jpg" alt="Customer" class="w-12 h-12 rounded-full">
                            <div class="absolute -bottom-1 -right-1 w-4 h-4 bg-gray-400 rounded-full border-2 border-white"></div>
                        </div>
                        <div class="flex-1 min-w-0">
                            <div class="flex items-center justify-between">
                                <h4 class="font-medium text-gray-800 truncate">Rina Dewi</h4>
                                <span class="text-xs text-gray-500">1 jam</span>
                            </div>
                            <p class="text-sm text-gray-600 truncate">Terima kasih atas bantuannya</p>
                            <div class="flex items-center justify-between mt-1">
                                <span class="text-xs text-gray-500">Offline</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Resolved Chat Item -->
                <div id="chat-item-4" class="p-4 border-b hover:bg-gray-50 cursor-pointer opacity-60">
                    <div class="flex items-center space-x-3">
                        <div class="relative">
                            <img src="https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-8.jpg" alt="Customer" class="w-12 h-12 rounded-full">
                            <div class="absolute -bottom-1 -right-1 w-4 h-4 bg-gray-400 rounded-full border-2 border-white"></div>
                        </div>
                        <div class="flex-1 min-w-0">
                            <div class="flex items-center justify-between">
                                <h4 class="font-medium text-gray-700 truncate">Ahmad Fauzi</h4>
                                <span class="text-xs text-gray-500">3 jam</span>
                            </div>
                            <p class="text-sm text-gray-500 truncate">Chat ditutup - Masalah terselesaikan</p>
                            <div class="flex items-center justify-between mt-1">
                                <span class="text-xs text-green-600 font-medium flex items-center">
                                    <i class="fa-solid fa-check-circle mr-1"></i>
                                    Selesai
                                </span>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <!-- Chat Window -->
        <div id="chat-window" class="flex-1 flex flex-col">
            
            <!-- Chat Window Header -->
            <div id="chat-window-header" class="p-4 bg-white border-b flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <img src="https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-1.jpg" alt="Customer" class="w-10 h-10 rounded-full">
                    <div>
                        <h4 class="font-medium text-gray-800">Sari Indah</h4>
                        <div class="flex items-center space-x-2">
                            <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                            <span class="text-sm text-green-600">Online</span>
                            <span class="text-sm text-gray-500">• Terakhir aktif sekarang</span>
                        </div>
                    </div>
                </div>
                <div class="flex items-center space-x-2">
                    <button class="p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg">
                        <i class="fa-solid fa-phone"></i>
                    </button>
                    <button class="p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg">
                        <i class="fa-solid fa-info-circle"></i>
                    </button>
                    <button id="close-chat-btn" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors text-sm">
                        <i class="fa-solid fa-check mr-2"></i>
                        Tutup Chat
                    </button>
                </div>
            </div>

            <!-- Messages Area -->
            <div id="messages-area" class="flex-1 overflow-y-auto p-4 space-y-4" style="max-height: calc(100vh - 200px);">
                
                <!-- Customer Message -->
                <div id="message-1" class="flex items-start space-x-3">
                    <img src="https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-1.jpg" alt="Customer" class="w-8 h-8 rounded-full">
                    <div class="flex-1">
                        <div class="bg-gray-100 rounded-lg p-3 max-w-md">
                            <p class="text-gray-800">Halo admin, saya mau tanya tentang pesanan saya yang kemarin. Status masih processing ya?</p>
                        </div>
                        <span class="text-xs text-gray-500 mt-1 block">10:30 AM</span>
                    </div>
                </div>

                <!-- Admin Reply -->
                <div id="message-2" class="flex items-start space-x-3 justify-end">
                    <div class="flex-1 text-right">
                        <div class="bg-blue-600 text-white rounded-lg p-3 max-w-md ml-auto">
                            <p>Halo Sari, terima kasih telah menghubungi kami. Saya cek dulu pesanan Anda ya. Bisa berikan nomor pesanannya?</p>
                        </div>
                        <span class="text-xs text-gray-500 mt-1 block">10:32 AM</span>
                    </div>
                    <img src="https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-2.jpg" alt="Admin" class="w-8 h-8 rounded-full">
                </div>

                <!-- Customer Message -->
                <div id="message-3" class="flex items-start space-x-3">
                    <img src="https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-1.jpg" alt="Customer" class="w-8 h-8 rounded-full">
                    <div class="flex-1">
                        <div class="bg-gray-100 rounded-lg p-3 max-w-md">
                            <p class="text-gray-800">Nomor pesanan saya #12849. Kemeja batik yang saya pesan kemarin.</p>
                        </div>
                        <span class="text-xs text-gray-500 mt-1 block">10:33 AM</span>
                    </div>
                </div>

                <!-- Admin Reply with Order Info -->
                <div id="message-4" class="flex items-start space-x-3 justify-end">
                    <div class="flex-1 text-right">
                        <div class="bg-blue-600 text-white rounded-lg p-3 max-w-md ml-auto">
                            <p class="mb-2">Baik, saya sudah cek pesanan #12849. Produk sedang dalam tahap packaging dan akan dikirim besok pagi.</p>
                            <div class="bg-blue-700 rounded p-2 text-sm">
                                <p><strong>Pesanan #12849</strong></p>
                                <p>Kemeja Batik Premium - Size L</p>
                                <p>Status: Packaging</p>
                                <p>Estimasi kirim: Besok pagi</p>
                            </div>
                        </div>
                        <span class="text-xs text-gray-500 mt-1 block">10:35 AM</span>
                    </div>
                    <img src="https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-2.jpg" alt="Admin" class="w-8 h-8 rounded-full">
                </div>

                <!-- Customer Message -->
                <div id="message-5" class="flex items-start space-x-3">
                    <img src="https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-1.jpg" alt="Customer" class="w-8 h-8 rounded-full">
                    <div class="flex-1">
                        <div class="bg-gray-100 rounded-lg p-3 max-w-md">
                            <p class="text-gray-800">Wah mantap! Kapan produknya ready untuk dikirim?</p>
                        </div>
                        <span class="text-xs text-gray-500 mt-1 block">10:37 AM • Baru saja</span>
                    </div>
                </div>

                <!-- Typing Indicator -->
                <div id="typing-indicator" class="flex items-start space-x-3">
                    <img src="https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-1.jpg" alt="Customer" class="w-8 h-8 rounded-full">
                    <div class="bg-gray-100 rounded-lg p-3">
                        <div class="flex space-x-1">
                            <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce"></div>
                            <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style="animation-delay: 0.1s"></div>
                            <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style="animation-delay: 0.2s"></div>
                        </div>
                    </div>
                </div>

            </div>

            <!-- Message Input -->
            <div id="message-input-area" class="p-4 bg-white border-t">
                <div class="flex items-center space-x-3">
                    <button class="p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg">
                        <i class="fa-solid fa-paperclip"></i>
                    </button>
                    <div class="flex-1 relative">
                        <input type="text" placeholder="Ketik pesan..." class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 pr-12">
                        <button class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700">
                            <i class="fa-solid fa-smile"></i>
                        </button>
                    </div>
                    <button class="bg-blue-600 text-white p-3 rounded-lg hover:bg-blue-700 transition-colors">
                        <i class="fa-solid fa-paper-plane"></i>
                    </button>
                </div>
                <div class="flex items-center justify-between mt-2 text-sm text-gray-500">
                    <div class="flex items-center space-x-4">
                        <button class="hover:text-gray-700">Template Pesan</button>
                        <button class="hover:text-gray-700">Quick Reply</button>
                    </div>
                    <span>Sari sedang mengetik...</span>
                </div>
            </div>

        </div>

    </div>

    <!-- Close Chat Modal -->
    <div id="close-chat-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-lg p-6 w-96">
            <div class="flex items-center space-x-3 mb-4">
                <div class="bg-green-100 p-3 rounded-full">
                    <i class="fa-solid fa-check-circle text-green-600 text-xl"></i>
                </div>
                <div>
                    <h3 class="font-semibold text-gray-800">Tutup Chat</h3>
                    <p class="text-gray-600 text-sm">Tandai chat ini sebagai selesai?</p>
                </div>
            </div>
            <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-2">Catatan (Opsional)</label>
                <textarea class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" rows="3" placeholder="Tambahkan catatan tentang penyelesaian masalah..."></textarea>
            </div>
            <div class="flex items-center space-x-3">
                <button id="confirm-close-btn" class="flex-1 bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors">
                    <i class="fa-solid fa-check mr-2"></i>
                    Ya, Tutup Chat
                </button>
                <button id="cancel-close-btn" class="flex-1 bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400 transition-colors">
                    Batal
                </button>
            </div>
        </div>
    </div>

    <script>
        // Close Chat Modal functionality
        const closeChatBtn = document.getElementById('close-chat-btn');
        const closeChatModal = document.getElementById('close-chat-modal');
        const confirmCloseBtn = document.getElementById('confirm-close-btn');
        const cancelCloseBtn = document.getElementById('cancel-close-btn');

        closeChatBtn.addEventListener('click', () => {
            closeChatModal.classList.remove('hidden');
            closeChatModal.classList.add('flex');
        });

        cancelCloseBtn.addEventListener('click', () => {
            closeChatModal.classList.add('hidden');
            closeChatModal.classList.remove('flex');
        });

        confirmCloseBtn.addEventListener('click', () => {
            // Mark chat as resolved
            const chatItem</script></body></html>